f="fillStyle";U="forEach";V="length";q="unshift";G="fill";J="fillRect";Q="fillText";Z=Math.abs;W=a.width;H=a.height;j=120;u=70;O=function(g,h,l,m,r,s,n,t){var d={z:[g,h],p:{x:l,y:m},v:{x:r,y:0}},e=d.p;d.T=function(l){e.x+=d.v.x*l;e.y+=d.v.y*l;e.x<-g&&(d==P?e.x=-g+1:d.E());t&&d.C()&&(P.E()||d.E());d==P&&e.x>W-g&&(e.x=W-g)||(e.y<-h||e.y>H)&&d.E();c[f]=s;c[J](e.x,e.y,g,h);c[G]()};d.E=function(){d==P&&0<--d.l&&(e.x=l,e.y=m)||n.splice(n.indexOf(d),1);0<P.l&&P.s++};d.C=function(){return 0<P.l&&Z(P.p.x-e.x)<g/2+P.z[0]/2&&Z(P.p.y-e.y)<h/2+P.z[1]/2};return d};M=[A=[],B=[]];B[q](P=new O(j,u,10,300,0,"red",B));K=function(g){for(i in g)if(k==i)return g[i]};C=function(g,h){return function(l){k=l.keyCode;P.v.x=K(g)||0;P.v.y=K(h)||0}};b.onkeydown=C({68:1,65:-1},{87:-1,83:1});b.onkeyup=C({68:0,65:0},{87:0,83:0});N=Date.now;S=N();P.s=P.l=3;R=Math.random;rd='new O(j,8,W,u+j*A[V],-0.4,"white",A);';function E(g){if(!A[V])for(;5>A[V];)A[q](eval(rd));0.8<g%R()&&8>B[V]&&B[q](new O(j,u,W,R()*H,-R(),"yellow",B,1))}c.font="35px Sans"; ~function L(){requestAnimationFrame(L);D=N()-S;E(S+=D);c.clearRect(0,0,W,H);c[f]="gray";c[J](0,0,W,H);c[G]();p=function(h){h.T(D)};A[U](p);c[Q]("\u2665"+P.l,0,u);0>=P.l&&c[Q]("Score: "+P.s,W/2.5,250);B[U](p)}();